#!/bin/octave -q
# usage: ./plot_stem [file1] [file2]
# file is contains x,y,time, seperated by ' '
# ============
# 1 2 3
# 3 4 5
# 8 9 10
# ......
# ============
# just like something above
arg_list = argv ();
for b = 1:nargin
	d = int32(dlmread(arg_list{b}));
	s = size(d)

	c = zeros(s(1,1)-1,4);
	for i=2:s(1,1)
		c(i-1, 1) = d(i, 1)-d(i-1, 1);
		c(i-1, 2) = d(i, 2)-d(i-1, 2);
		c(i-1, 3) = d(i, 3)-d(i-1, 3);
		c(i-1, 4) = i-1;
	endfor

	figure(1);
	plot(d(:,3), d(:,1));
	title(strcat(arg_list{b}, " x/t graph"));
	xlabel ("t(ms)");
	ylabel("x(px)");
	print(strcat(arg_list{b}, "-plot.jpg"), '-djpg')

	figure(2);
	stem(c(:,1), c(:,3));
	title(strcat(arg_list{b}, " Delta t/Delta x stem graph"));
	xlabel("Delta x(px)");
	ylabel ("Delta t(ms)");
	print(strcat(arg_list{b}, "-stem1.jpg"), '-djpg')

	figure(3);
	stem(c(:,4), c(:,1));
	title(strcat(arg_list{b}, " Delta x/frame stem graph"));
	xlabel("frame");
	ylabel ("Delta x(ms)");
	print(strcat(arg_list{b}, "-stem2.jpg"), '-djpg')

	figure(4);
	stem(c(:,4), c(:,3));
	title(strcat(arg_list{b}, " Delta t/frame stem graph"));
	xlabel("frame");
	ylabel ("Delta t(ms)");
	print(strcat(arg_list{b}, "-stem3.jpg"), '-djpg')
endfor
